(this.webpackJsonpproject1=this.webpackJsonpproject1||[]).push([[3],{291:function(e,a,s){"use strict";s.d(a,"a",(function(){return m}));var t=s(5),i=s(35),n=s(36),c=s(38),r=s(37),o=s(11),l=s(1),g=s.n(l),d=s(13),j=s(0),u=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var a=function(a){Object(c.a)(l,a);var s=Object(r.a)(l);function l(){return Object(i.a)(this,l),s.apply(this,arguments)}return Object(n.a)(l,[{key:"render",value:function(){return this.props.isAuth?Object(j.jsx)(e,Object(t.a)({},this.props)):Object(j.jsx)(o.a,{to:"/login"})}}]),l}(g.a.Component);return Object(d.b)(u)(a)}},292:function(e,a,s){e.exports={dialogs:"Dialogs_dialogs__1PIB1",dialogsItems:"Dialogs_dialogsItems__2dbp-",active:"Dialogs_active__2NCHI",messages:"Dialogs_messages__13kr3",message:"Dialogs_message__iztjz",newMessage:"Dialogs_newMessage__1F6v8"}},293:function(e,a,s){e.exports={dialog:"DialogItem_dialog__1uNOA",activeLink:"DialogItem_activeLink__19xWz"}},294:function(e,a,s){e.exports={message:"Message_message__1cV-C",i:"Message_i__3fou2",friend:"Message_friend__3N2cY"}},300:function(e,a,s){"use strict";s.r(a);var t=s(5),i=s(35),n=s(36),c=s(38),r=s(37),o=s(1),l=s.n(o),g=s(126),d=s(13),j=s(292),u=s.n(j),m=s(293),b=s.n(m),O=s(15),v=s(0),f=function(e){var a="/dialogs/"+e.id;return Object(v.jsx)("div",{className:b.a.dialog,onClick:function(a){e.onDialogChange(e.id)},children:Object(v.jsxs)(O.b,{to:a,className:e.currentDialog===e.id&&b.a.activeLink,children:[Object(v.jsx)("img",{src:e.avatar}),e.name]})})},h=s(294),_=s.n(h),x=function(e){return 1==e.iOrNot?Object(v.jsx)("div",{className:_.a.message,children:Object(v.jsxs)("div",{className:_.a.i,children:[e.message,Object(v.jsx)("img",{src:e.myAvatar})]})}):Object(v.jsx)("div",{className:_.a.message,children:Object(v.jsxs)("div",{className:_.a.friend,children:[Object(v.jsx)("img",{src:e.avatar}),e.message]})})},p=s(11),D=s(87),N=s(90),A=s(127),y=s(34),k=Object(D.a)(10),C=Object(A.a)({form:"dialogAddMessageForm"})((function(e){return Object(v.jsxs)("form",{className:u.a.newMessage,onSubmit:e.handleSubmit,children:[Object(v.jsx)("div",{children:Object(v.jsx)(N.a,{component:y.b,name:"message_area",placeholder:"Enter your message",validate:[D.b,k]})}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{children:"Send message"})})]})})),M=function(e){var a=e.currentDialog,s=a-1,t=function(a){e.setCurrentDialog(a)},i=e.dialogs.dialogs.map((function(a){return Object(v.jsx)(f,{name:a.name,id:a.id,avatar:a.avatar,currentDialog:e.dialogs.currentDialog,onDialogChange:t},a.id)}));if(!1===e.isAuth)return Object(v.jsx)(p.a,{to:"/login"});if(!a)return Object(v.jsx)("div",{className:u.a.dialogs,children:Object(v.jsx)("div",{className:u.a.dialogsItems,children:i})});var n=e.dialogs.dialogs[s].dialog.map((function(a){return Object(v.jsx)(x,{message:a.message,iOrNot:a.iOrNot,avatar:e.dialogs.dialogs[s].avatar,myAvatar:e.myAvatar},a.id)}));return Object(v.jsxs)("div",{className:u.a.dialogs,children:[Object(v.jsx)("div",{className:u.a.dialogsItems,children:i}),Object(v.jsx)("div",{className:u.a.messages,children:n}),Object(v.jsx)(C,{onSubmit:function(a){var t=s,i=e.dialogs.dialogs[t].dialog.length+1;e.newMessage(i,t,a.message_area)}})]})},I=s(291),w=s(9),P=function(e){Object(c.a)(s,e);var a=Object(r.a)(s);function s(){return Object(i.a)(this,s),a.apply(this,arguments)}return Object(n.a)(s,[{key:"render",value:function(){return Object(v.jsx)(M,Object(t.a)({},this.props))}}]),s}(l.a.Component);a.default=Object(w.d)(Object(d.b)((function(e){return{dialogs:e.dialogsPage,myAvatar:e.profilePage.myAvatar,currentDialog:e.dialogsPage.currentDialog}}),(function(e){return{newMessage:function(a,s,t){e(Object(g.b)(a,s,t))},setCurrentDialog:function(a){e(Object(g.c)(a))}}})),I.a)(P)}}]);
//# sourceMappingURL=3.91b6d69b.chunk.js.map