{"version":3,"sources":["api/api.js","redux/dialogsReducer.js","components/Users/Users.module.css","components/Nav/NavBar.module.css","components/common/FormsControls/FormsControls.js","reportWebVitals.js","components/Nav/Friends/Friends.jsx","components/Nav/Friends/FriendsContainer.jsx","components/Nav/NavBar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/objectHelpers.js","redux/usersReducer.js","components/Users/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/navBarReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","assets/images/load.gif","components/common/loading/loading.jsx","components/Nav/Friends/Friends.module.css","components/common/FormsControls/FormsControls.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","assets/images/avatar.jpg","redux/profileReducer.js"],"names":["instance","axios","create","baseURL","withCredentials","headers","usersAPI","requestUsers","page","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","authAPI","auth","login","email","password","rememberMe","captcha","logout","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","securityAPI","getCaptchaUrl","NEW_MESSAGE","SET_CURRENT_DIALOG","initialState","dialogs","id","name","avatar","dialog","message","iOrNot","currentDialog","newMessageActionCreator","idMessage","idDialog","message_area","type","setCurrentDialogActionCreator","dialogsReducer","state","action","newMessage","stateCopy","JSON","parse","stringify","push","module","exports","FromControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","Input","createField","placeholder","validators","component","text","validate","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Friends","s","friendsBar","header","f1","src","friends","f2","f3","FriendsContainer","connect","navBarFriends","NavBar","navBar","nav","item","to","activeClassName","activeLink","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOW_UNFOLLOW_IN_PROGRESS","users","totalUsersCount","currentPage","isFetching","followUnfollowInProgress","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowUnfollowInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","User","user","photos","small","userPhoto","disabled","some","onClick","Paginator","onPageChanged","pagesCount","Math","ceil","pages","i","FirstPages","e","cursor","LastsPages","pagination","p","selectedPage","Users","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowUnfollowInProgress","UsersAPIComponent","pageNumber","this","React","Component","compose","bind","totalCount","Header","loginBlock","isAuth","SET_USER_DATA","GET_CAPTHCA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","style","formSummaryError","messages","length","stopSubmit","_error","INITIALIZED_SECCESS","initialized","globalError","appReducer","navBarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","reason","promise","alert","initializeApp","addEventListener","removeEventListener","exact","path","render","UsersContainer","AppContainer","withRouter","Promise","all","SamuraiJSApp","ReactDOM","document","getElementById","Loading","load","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","myAvatar","addPostActionCreator","newElementArrayId","newPostText","setStatus","getUserProfile","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.eb161b23.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"afe5e58d-5cc5-48c0-9747-b4c15ee26e3f\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    requestUsers(page, pageSize) {\r\n        return instance.get(`users?page=${page}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    auth() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n            .then(response => response.data);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n}","const NEW_MESSAGE = 'NEW-MESSAGE';\r\nconst SET_CURRENT_DIALOG = 'SET_CURRENT_DIALOG';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {\r\n            id: 1,\r\n            name: 'Petr',\r\n            avatar: 'https://topmsg.ru/wp-content/uploads/anonymous.jpg',\r\n            dialog:\r\n                [\r\n                    {id: 1, message: 'Hi', iOrNot: true},\r\n                    {id: 2, message: 'Hi=))', iOrNot: false},\r\n                    {id: 3, message: 'How are you?', iOrNot: true},\r\n                    {id: 4, message: '???', iOrNot: true},\r\n                    {id: 5, message: 'good, and you?', iOrNot: false},\r\n                    {id: 6, message: 'too', iOrNot: true}\r\n                ]\r\n        },\r\n        {\r\n            id: 2,\r\n            name: 'Sasha',\r\n            avatar: 'https://www.meme-arsenal.com/memes/b877babd9c07f94b952c7f152c4e264e.jpg',\r\n            dialog:\r\n                [\r\n                    {id: 1, message: 'Hello', iOrNot: false},\r\n                    {id: 2, message: 'hi, man', iOrNot: true}\r\n                ]\r\n        },\r\n        {\r\n            id: 3,\r\n            name: 'Sergey',\r\n            avatar: 'https://cspromogame.ru//storage/upload_images/avatars/1299.jpg',\r\n            dialog:\r\n                [\r\n                    {id: 1, message: 'How are you??', iOrNot: false},\r\n                    {id: 2, message: 'good, you?', iOrNot: true},\r\n                    {id: 3, message: 'too=))', iOrNot: false}\r\n                ]\r\n        },\r\n        {\r\n            id: 4,\r\n            name: 'Anna',\r\n            avatar: 'https://dthezntil550i.cloudfront.net/kg/latest/kg1802132010216500004834729/1280_960/557d644f-12f3-49e1-bb66-23c16400540d.png',\r\n            dialog:\r\n                [\r\n                    {id: 1, message: 'Hi, sister', iOrNot: true},\r\n                    {id: 2, message: 'Hi, bro', iOrNot: false}\r\n                ]\r\n        },\r\n        {\r\n            id: 5,\r\n            name: 'Evelina',\r\n            avatar: 'https://krasivosti.pro/uploads/posts/2021-07/1626219796_19-krasivosti-pro-p-krolik-snezhok-zaitsevie-krasivo-foto-20.jpg',\r\n            dialog:\r\n                [\r\n                    {id: 1, message: 'Hi', iOrNot: true},\r\n                    {id: 2, message: 'Hi', iOrNot: false},\r\n                    {id: 3, message: 'what you do?', iOrNot: true},\r\n                    {id: 4, message: 'watch TV=))', iOrNot: false}\r\n                ]\r\n        },\r\n        {\r\n            id: 6,\r\n            name: 'Artem',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSQkHfyUXpFU_i8g1PIp_T-hSSyb8PYePWprg&usqp=CAU',\r\n            dialog:\r\n                [\r\n                    {id: 1, message: 'Hello', iOrNot: false},\r\n                    {id: 2, message: 'Hi', iOrNot: true},\r\n                    {id: 3, message: 'go????', iOrNot: false},\r\n                    {id: 4, message: '???', iOrNot: false},\r\n                    {id: 5, message: 'go', iOrNot: true}\r\n                ]\r\n        }\r\n    ],\r\n    currentDialog: null\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    let stateCopy;\r\n\r\n    switch (action.type) {\r\n        case NEW_MESSAGE: {\r\n            let newMessage = {\r\n                id: action.idMessage,\r\n                // message: state.newMessageText,\r\n                message: action.message_area,\r\n                iOrNot: true\r\n            };\r\n            // stateCopy = {...state, newMessageText: ''};\r\n            // stateCopy.dialogs[action.idDialog].dialog.push(newMessage);\r\n            let stateCopy = JSON.parse(JSON.stringify(state));\r\n            stateCopy.dialogs[action.idDialog].dialog.push(newMessage);\r\n            return stateCopy;\r\n        }\r\n        case SET_CURRENT_DIALOG: {\r\n            stateCopy = {...state, currentDialog: action.currentDialog};\r\n            return stateCopy;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\nexport const newMessageActionCreator = (idMessage, idDialog, message_area) => ({\r\n    type: NEW_MESSAGE,\r\n    idMessage: idMessage,\r\n    idDialog: idDialog,\r\n    message_area\r\n}\r\n);\r\nexport const setCurrentDialogActionCreator = (currentDialog) => ({type: SET_CURRENT_DIALOG, currentDialog})\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__3Tvd-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__Z4vAb\",\"navBar\":\"NavBar_navBar__3R1Op\",\"item\":\"NavBar_item__3uxn8\",\"activeLink\":\"NavBar_activeLink__PGPto\"};","import React from \"react\";\r\nimport styles from './FormsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nconst FromControl = ({input, meta: {touched, error}, children}) => {\r\n\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FromControl {...props}><textarea {...input} {...restProps}/></FromControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FromControl {...props}><input {...input} {...restProps}/></FromControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props={}, text=\"\") => (\r\n    <div>\r\n        <Field name={name} placeholder={placeholder}\r\n               component={component}\r\n               validate={validators}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n)","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport s from \"./Friends.module.css\";\n\nconst Friends = (props) => {\n    return (\n        <div className={s.friendsBar}>\n            <div className={s.header}>Friends</div>\n            <div className={s.f1}>\n                <img src={props.friends[0].avatar}/>\n                <div>{props.friends[0].name}</div>\n            </div>\n            <div className={s.f2}>\n                <img src={props.friends[1].avatar}/>\n                <div>{props.friends[1].name}</div>\n            </div>\n            <div className={s.f3}>\n                <img src={props.friends[2].avatar}/>\n                <div>{props.friends[2].name}</div>\n            </div>\n        </div>\n    );\n}\n\nexport default Friends;","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport Friends from \"./Friends\";\n\nlet mapStateToProps = (state) => {\n    return {\n        friends: state.navBarFriends\n    }\n}\n\nconst FriendsContainer = connect(mapStateToProps)(Friends);\n\nexport default FriendsContainer;","import React from \"react\";\r\nimport s from './NavBar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendsContainer from \"./Friends/FriendsContainer\";\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <div className={s.navBar}>\r\n            <nav className={s.nav}>\r\n                <div className={s.item}>\r\n                    <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n                </div>\r\n                <div className={s.item}>\r\n                    <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n                </div>\r\n            </nav>\r\n            <FriendsContainer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NavBar;","import React from \"react\";\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n   return  items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/objectHelpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_FOLLOW_UNFOLLOW_IN_PROGRESS = 'TOGGLE_FOLLOW_UNFOLLOW_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followUnfollowInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,action.userId,'id', {followed: true})\r\n              /*  users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })*/\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users,action.userId,'id', {followed: false})\r\n                /* users: state.users.map(u => {\r\n                     if (u.id === action.userId) {\r\n                         return {...u, followed: false}\r\n                     }\r\n                     return u;\r\n                 })*/\r\n            }\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_FOLLOW_UNFOLLOW_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followUnfollowInProgress: action.isFetching\r\n                    ? [...state.followUnfollowInProgress, action.userId]\r\n                    : state.followUnfollowInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowUnfollowInProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_FOLLOW_UNFOLLOW_IN_PROGRESS,\r\n    isFetching, userId\r\n});\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowUnfollowInProgress(true, userId));\r\n    let data = await apiMethod(userId);\r\n    if (data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowUnfollowInProgress(false, userId));\r\n}\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setCurrentPage(page));\r\n        dispatch(toggleIsFetching(true));\r\n        let data = await usersAPI.requestUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch,userId,usersAPI.follow.bind(usersAPI),followSuccess);\r\n    }\r\n}\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch,userId,usersAPI.unfollow.bind(usersAPI),unfollowSuccess);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import React from \"react\";\r\nimport styles from './Users.module.css';\r\nimport userPhoto from '../../assets/images/avatar.jpg';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followUnfollowInProgress, follow, unfollow}) => {\r\n\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img\r\n                            src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                            className={styles.userPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followUnfollowInProgress.some(id => id === user.id)} onClick={() => {\r\n                            unfollow(user.id);\r\n                        }}>Unfollow</button>\r\n                        : <button disabled={followUnfollowInProgress.some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id);\r\n                        }}>Follow</button>}\r\n                </div>\r\n            </span>\r\n            <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport styles from './Paginator.module.css';\r\n\r\nlet Paginator = ({currentPage, totalUsersCount, pageSize, onPageChanged}) => {\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    let pages = [];\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let FirstPages = () => {\r\n        return (\r\n            <>\r\n                {currentPage != 1 && <span onClick={(e) => {\r\n                    onPageChanged(currentPage - 1)\r\n                }}>{'< '}</span>}\r\n                {currentPage > 5 &&\r\n                <span onClick={(e) => {\r\n                    onPageChanged(1)\r\n                }}>1</span>\r\n                }\r\n                {currentPage > 5 && <span className={styles.cursor}>......</span>}\r\n            </>\r\n        )\r\n    }\r\n\r\n    let LastsPages = () => {\r\n        return (\r\n            <>\r\n                {pagesCount - currentPage >= 5 && <span className={styles.cursor}>......</span>}\r\n                {pagesCount - currentPage >= 5 && <span onClick={(e) => {\r\n                    onPageChanged(pagesCount)\r\n                }}>{pagesCount}</span>}\r\n\r\n                {currentPage != pagesCount && <span onClick={(e) => {\r\n                    onPageChanged(currentPage + 1)\r\n                }}> ></span>}\r\n            </>\r\n        )\r\n    }\r\n\r\n    return <div className={styles.pagination}>\r\n            <FirstPages/>\r\n            {pages.map(p => {\r\n                if (currentPage - p <= 4 && currentPage - p >= -4) {\r\n                    return (\r\n                        <span className={currentPage === p && styles.selectedPage} onClick={(e) => {\r\n                            onPageChanged(p)\r\n                        }}>{p + ' | '}\r\n                    </span>\r\n                    )\r\n                }\r\n            })}\r\n            <LastsPages/>\r\n        </div>\r\n}\r\n\r\nexport default Paginator;","import React from \"react\";\r\nimport User from \"./User\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n\r\n    return <div>\r\n        {\r\n            users.map(u => <User user={u}\r\n                                 followUnfollowInProgress={props.followUnfollowInProgress}\r\n                                 follow={props.follow}\r\n                                 unfollow={props.unfollow}\r\n                                 key={u.id}/>)\r\n        }\r\n        <Paginator currentPage={currentPage}\r\n                   totalUsersCount={totalUsersCount}\r\n                   pageSize={pageSize}\r\n                   onPageChanged={onPageChanged}/>\r\n    </div>\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users)=>{\r\n   return  users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowUnfollowInProgress = (state) => {\r\n    return state.usersPage.followUnfollowInProgress;\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {follow, requestUsers, toggleFollowUnfollowInProgress, unfollow} from \"../../redux/usersReducer\";\r\nimport Loading from \"../common/loading/loading\";\r\nimport {compose} from \"redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n    getUsers,\r\n    getCurrentPage,\r\n    getFollowUnfollowInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount\r\n} from \"../../redux/usersSelectors\";\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const {currentPage,pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Loading/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   followUnfollowInProgress={this.props.followUnfollowInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followUnfollowInProgress: getFollowUnfollowInProgress(state)\r\n    }\r\n}\r\n\r\n/*let mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        follow: (usersId) => {\r\n            dispatch(follow(usersId));\r\n        },\r\n        unfollow: (usersId) => {\r\n            dispatch(unfollow(usersId));\r\n        },\r\n        setUsers: (users) => {\r\n            dispatch(setUsers(users));\r\n        },\r\n        setCurrentPage: (pageNumber) => {\r\n            dispatch(setCurrentPage(pageNumber))\r\n        },\r\n        setTotalUsersCount: (totalCount) => {\r\n            dispatch(setTotalUsersCount(totalCount))\r\n        },\r\n        toggleIsFetching: (isFetching) => {\r\n            dispatch(toggleIsFetching(isFetching))\r\n        }\r\n    }\r\n}*/\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(UsersAPIComponent)\r\n\r\n/*\r\nexport default withAuthRedirect(connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    // setCurrentPage,\r\n    toggleFollowUnfollowInProgress,\r\n    requestUsers\r\n})(UsersAPIComponent))*/\r\n\r\nexport default compose(\r\n    // withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        // setCurrentPage,\r\n        toggleFollowUnfollowInProgress,\r\n        requestUsers\r\n    })\r\n)(UsersAPIComponent);\r\n","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQrCGuyFs-eh7eEkapIpuvWtQ9Gpwu04S5amQ&usqp=CAU'/>\r\n\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\nconst GET_CAPTHCA_URL_SUCCESS = 'samurai-network/auth/GET_CAPTHCA_URL_SUCCESS';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTHCA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTHCA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.auth();\r\n    if (response.resultCode === 0) {\r\n        let {id, login, email} = response.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n        dispatch(getCaptchaUrlSuccess(null));\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error;\"\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\r\nimport {reduxForm} from 'redux-form';\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from '../common/FormsControls/FormsControls.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('Email', 'email', [required], Input)}\r\n            {createField('Password', 'password', [required], Input, {type: 'password'})}\r\n            {createField(null, 'rememberMe', null, Input, {type: 'checkbox'}, 'remember me')}\r\n            {captchaUrl && <img src={captchaUrl}/>}\r\n            {captchaUrl && createField('Symbols from image', 'captcha', [required], Input)}\r\n\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SECCESS = 'INITIALIZED_SECCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SECCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSucces = () => ({type: INITIALIZED_SECCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n        dispatch(initializedSucces());\r\n    });\r\n}\r\n\r\nexport default appReducer;","let initialState = [\r\n    {name: 'Evgen', avatar: 'https://www.blast.hk/attachments/64805/'},\r\n    {name: 'Maksim', avatar: 'https://whatsism.com/uploads/posts/2018-07/1530546770_rmk_vdjbx10.jpg'},\r\n    {name: 'Aleksandr', avatar: 'https://avatarko.ru/img/avatar/11/multfilm_volk_10382.jpg'}\r\n];\r\n\r\nconst navBarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default navBarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport navBarReducer from \"./navBarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    navBarFriends: navBarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport Loading from \"../components/common/loading/loading\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<div><Loading/></div>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n}","import React from \"react\";\r\nimport './App.css';\r\nimport NavBar from './components/Nav/NavBar';\r\nimport {HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/appReducer\";\r\nimport Loading from \"./components/common/loading/loading\";\r\nimport store from \"./redux/reduxStore\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n\r\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n    catchAllUnhandledErrors = (reason, promise) => {\r\n        alert('Some error occured');\r\n        // console.error(promiseRejectionEvent);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Loading/>\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <NavBar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Switch>\r\n                        <Route exact path='/' render={() => <Redirect to={\"/profile\"}/>}/>\r\n                        <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\r\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\r\n                        <Route path='/news' component={News}/>\r\n                        <Route path='/music' component={Music}/>\r\n                        <Route path='/settings' component={Settings}/>\r\n                        <Route path='/users' render={() => <UsersContainer/>}/>\r\n                        <Route path='/login' render={() => <LoginPage/>}/>\r\n                        <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n});\r\n\r\n// export default compose(\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nconst SamuraiJSApp = (props) => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default SamuraiJSApp;","import React from 'react';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ReactDOM from \"react-dom\";\r\nimport SamuraiJSApp from \"./App\";\r\n\r\nReactDOM.render(\r\n    <SamuraiJSApp/>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","export default __webpack_public_path__ + \"static/media/load.dad4c859.gif\";","import load from \"../../../assets/images/load.gif\";\r\nimport React from \"react\";\r\n\r\nlet Loading = (props)=> {\r\n    return <img src={load}/>\r\n}\r\n\r\nexport default Loading;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBar\":\"Friends_friendsBar__1JvQC\",\"header\":\"Friends_header__12wGp\",\"f1\":\"Friends_f1__11USk\",\"f2\":\"Friends_f2__3JBKB\",\"f3\":\"Friends_f3__2n5dc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__190pO\",\"error\":\"FormsControls_error__1YxsS\",\"formSummaryError\":\"FormsControls_formSummaryError__U6M_a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__2BmYE\",\"pagination\":\"Paginator_pagination__1O3VG\",\"cursor\":\"Paginator_cursor__qHtNM\"};","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2yqFy\",\"loginBlock\":\"Header_loginBlock__3BfaZ\"};","export default __webpack_public_path__ + \"static/media/avatar.25ad76ec.jpg\";","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: 23},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: 31},\r\n        {id: 3, message: 'ITK', likesCount: 11}\r\n    ],\r\n    myAvatar: 'http://cs622426.vk.me/v622426834/409d/baLqspYwi84.jpg',\r\n    profile: null,\r\n    status: \"\"\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: action.id,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {...state, newPostText: '', posts: [...state.posts, newPost]};\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile};\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status};\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p => p.id != action.postId)};\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {...state, profile: {...state.profile, photos: action.photos}};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newElementArrayId, newPostText) => ({\r\n    type: ADD_POST,\r\n    id: newElementArrayId,\r\n    newPostText\r\n});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response));\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    try {\r\n        let response = await profileAPI.updateStatus(status)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        }\r\n    } catch (error) {\r\n        //\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    const response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n\r\n/*        const key = response.data.messages[0].match(/Contacts->(\\w+)/)[1].toLowerCase();\r\n        dispatch(stopSubmit('edit-profile', {\r\n            contacts: {[key]: response.data.messages[0]},\r\n        }));*/\r\n\r\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}));\r\n        return Promise.reject(response.data.messages[0]);\r\n        // dispatch(stopSubmit('edit-profile', {\"contacts\": {\"facebook\": response.data.messages[0]}}));\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}