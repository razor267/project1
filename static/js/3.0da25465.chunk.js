(this.webpackJsonpproject1=this.webpackJsonpproject1||[]).push([[3],{292:function(e,a,s){"use strict";s.d(a,"a",(function(){return b}));var t=s(3),i=s(36),n=s(37),r=s(39),c=s(38),o=s(11),l=s(1),g=s.n(l),d=s(15),u=s(0),j=function(e){return{isAuth:e.auth.isAuth}},b=function(e){var a=function(a){Object(r.a)(l,a);var s=Object(c.a)(l);function l(){return Object(i.a)(this,l),s.apply(this,arguments)}return Object(n.a)(l,[{key:"render",value:function(){return this.props.isAuth?Object(u.jsx)(e,Object(t.a)({},this.props)):Object(u.jsx)(o.a,{to:"/login"})}}]),l}(g.a.Component);return Object(d.b)(j)(a)}},293:function(e,a,s){e.exports={dialogs:"Dialogs_dialogs__1PIB1",dialogsItems:"Dialogs_dialogsItems__2dbp-",active:"Dialogs_active__2NCHI",messages:"Dialogs_messages__13kr3",message:"Dialogs_message__iztjz",newMessage:"Dialogs_newMessage__1F6v8"}},295:function(e,a,s){e.exports={dialog:"DialogItem_dialog__1uNOA",activeLink:"DialogItem_activeLink__19xWz"}},296:function(e,a,s){e.exports={message:"Message_message__1cV-C",i:"Message_i__3fou2",friend:"Message_friend__3N2cY"}},301:function(e,a,s){"use strict";s.r(a);var t=s(3),i=s(36),n=s(37),r=s(39),c=s(38),o=s(1),l=s.n(o),g=s(127),d=s(15),u=s(293),j=s.n(u),b=s(295),m=s.n(b),O=s(17),f=s(0),v=function(e){var a="/dialogs/"+e.id;return Object(f.jsx)("div",{className:m.a.dialog,onClick:function(a){e.onDialogChange(e.id)},children:Object(f.jsxs)(O.b,{to:a,className:e.currentDialog===e.id&&m.a.activeLink,children:[Object(f.jsx)("img",{src:e.avatar}),e.name]})})},h=s(296),_=s.n(h),p=function(e){return 1==e.iOrNot?Object(f.jsx)("div",{className:_.a.message,children:Object(f.jsxs)("div",{className:_.a.i,children:[e.message,Object(f.jsx)("img",{src:e.myAvatar})]})}):Object(f.jsx)("div",{className:_.a.message,children:Object(f.jsxs)("div",{className:_.a.friend,children:[Object(f.jsx)("img",{src:e.avatar}),e.message]})})},x=s(11),D=s(69),N=s(90),k=s(128),C=s(26),M=Object(D.a)(10),A=Object(k.a)({form:"dialogAddMessageForm"})((function(e){return Object(f.jsxs)("form",{className:j.a.newMessage,onSubmit:e.handleSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)(N.a,{component:C.b,name:"message_area",placeholder:"Enter your message",validate:[D.b,M]})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Send message"})})]})})),I=s(95),w=function(e){var a=e.currentDialog,s=a-1,t=function(a){e.setCurrentDialog(a)},i=e.dialogs.dialogs.map((function(a){return Object(f.jsx)(v,{name:a.name,id:a.id,avatar:a.avatar,currentDialog:e.dialogs.currentDialog,onDialogChange:t},a.id)}));if(!1===e.isAuth)return Object(f.jsx)(x.a,{to:"/login"});if(!a)return Object(f.jsx)("div",{className:j.a.dialogs,children:Object(f.jsx)("div",{className:j.a.dialogsItems,children:i})});var n=e.dialogs.dialogs[s].dialog.map((function(a){return Object(f.jsx)(p,{message:a.message,iOrNot:a.iOrNot,avatar:e.dialogs.dialogs[s].avatar,myAvatar:null===e.profile?I.a:e.profile.photos.large},a.id)}));return Object(f.jsxs)("div",{className:j.a.dialogs,children:[Object(f.jsx)("div",{className:j.a.dialogsItems,children:i}),Object(f.jsx)("div",{className:j.a.messages,children:n}),Object(f.jsx)(A,{onSubmit:function(a){var t=s,i=e.dialogs.dialogs[t].dialog.length+1;e.newMessage(i,t,a.message_area)}})]})},y=s(292),P=s(10),S=function(e){Object(r.a)(s,e);var a=Object(c.a)(s);function s(){return Object(i.a)(this,s),a.apply(this,arguments)}return Object(n.a)(s,[{key:"render",value:function(){return Object(f.jsx)(w,Object(t.a)({},this.props))}}]),s}(l.a.Component);a.default=Object(P.d)(Object(d.b)((function(e){return{profile:e.profilePage.profile,dialogs:e.dialogsPage,currentDialog:e.dialogsPage.currentDialog}}),(function(e){return{newMessage:function(a,s,t){e(Object(g.b)(a,s,t))},setCurrentDialog:function(a){e(Object(g.c)(a))}}})),y.a)(S)}}]);
//# sourceMappingURL=3.0da25465.chunk.js.map